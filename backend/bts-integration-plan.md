# План тестирования интеграции с BTS API

## 1. Подготовка окружения
Самый простой способ протестировать API — создать отдельный Node.js скрипт.

1.  Создайте папку для тестов, например `bts-test` (или используйте текущий проект).
2.  Если создаете новый проект: `npm init -y` и `npm install axios`
3.  Создайте файл `test-bts.js`.

## 2. Получение данных для запросов (Справочники)
Перед расчетом нужно узнать `cityId` (ID города) для отправителя и получателя.

**Шаг 1: Получить список городов**
- **Endpoint:** `GET /directory/city` (потребуется найти нужный в документации или перебором регионов)
- **Важно:** BTS API часто требует `regionId` для получения городов. Сначала получите список регионов, затем городов.
- **Задача:** Найти ID города "Ташкент" (ваш склад) и ID города получателя.

## 3. Расчет стоимости (Калькулятор)
Реализуйте функцию расчета цены.

- **Endpoint:** `POST /order/calculate`
- **Тело запроса:**
  ```json
  {
    "senderCityId": 3,      // ID города отправления
    "receiverCityId": 14,   // ID города получения
    "weight": 2,            // Вес в кг
    "senderDelivery": 1,    // 1 - забор курьером, 0 - вы привозите в офис
    "receiverDelivery": 1   // 1 - доставка до двери, 0 - до пункта выдачи
  }
  ```
- **Ожидаемый результат:** Получить `summaryPrice` (цена) в ответе.

## 4. Тестовое создание заказа
Если расчет прошел успешно, попробуйте создать заказ.

- **Endpoint:** `POST /order/add`
- **Данные:** 
    - `senderAddress`, `senderPhone`
    - `receiverAddress`, `receiverPhone`
    - `postTypes`: Массив товаров `[{ "name": "Товар 1", "count": 1, "cost": 10000 }]`
- **Валидация:** Следите за ошибками, API строго проверяет типы данных (числа, строки).

## Примечания
- **Токен:** Используйте заголовок `Authorization: Bearer <ВАШ_ТОКЕН>`.
- **Инструменты:** Можно использовать Postman или скрипт `node test-bts.js`.
