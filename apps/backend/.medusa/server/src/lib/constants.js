"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.SHOULD_DISABLE_ADMIN = exports.WORKER_MODE = exports.OTP_SECRET = exports.OTP_RATE_LIMIT_PER_HOUR = exports.OTP_MAX_ATTEMPTS = exports.OTP_TTL_SECONDS = exports.ESKIZ_FROM = exports.ESKIZ_PASSWORD = exports.ESKIZ_EMAIL = exports.CLICK_USER_ID = exports.CLICK_CARD_TYPE = exports.CLICK_MERCHANT_USER_ID = exports.CLICK_PAY_URL = exports.CLICK_SECRET_KEY = exports.CLICK_SERVICE_ID = exports.CLICK_MERCHANT_ID = exports.PAYME_URL = exports.PAYME_KEY = exports.PAYME_ID = exports.MEILISEARCH_ADMIN_KEY = exports.MEILISEARCH_HOST = exports.STRIPE_WEBHOOK_SECRET = exports.STRIPE_API_KEY = exports.SENDGRID_FROM_EMAIL = exports.SENDGRID_API_KEY = exports.RESEND_FROM_EMAIL = exports.RESEND_API_KEY = exports.MINIO_BUCKET = exports.MINIO_SECRET_KEY = exports.MINIO_ACCESS_KEY = exports.MINIO_ENDPOINT = exports.COOKIE_SECRET = exports.JWT_SECRET = exports.STORE_URL = exports.STORE_CORS = exports.AUTH_CORS = exports.ADMIN_CORS = exports.REDIS_URL = exports.DATABASE_URL = exports.BACKEND_URL = exports.IS_DEV = void 0;
const utils_1 = require("@medusajs/framework/utils");
const assert_value_1 = require("utils/assert-value");
(0, utils_1.loadEnv)(process.env.NODE_ENV || 'development', process.cwd());
/**
 * Is development environment
 */
exports.IS_DEV = process.env.NODE_ENV === 'development';
/**
 * Public URL for the backend
 */
exports.BACKEND_URL = process.env.BACKEND_PUBLIC_URL ?? process.env.RAILWAY_PUBLIC_DOMAIN_VALUE ?? 'http://localhost:9000';
/**
 * Database URL for Postgres instance used by the backend
 */
// Workaround for Railway build time where env vars might be missing
const isBuild = process.env.npm_lifecycle_event === 'build' || process.env.npm_lifecycle_event === 'build:server';
exports.DATABASE_URL = process.env.DATABASE_URL || (isBuild ? 'postgres://localhost:5432/medusa-build' : undefined) || (0, assert_value_1.assertValue)(process.env.DATABASE_URL, 'Environment variable for DATABASE_URL is not set');
/**
 * (optional) Redis URL for Redis instance used by the backend
 */
exports.REDIS_URL = process.env.REDIS_URL;
/**
 * Admin CORS origins
 */
exports.ADMIN_CORS = process.env.ADMIN_CORS || 'http://localhost:7000,http://localhost:7001';
/**
 * Auth CORS origins
 */
exports.AUTH_CORS = process.env.AUTH_CORS || 'http://localhost:7000,http://localhost:7001,http://localhost:8000,http://localhost:3000';
/**
 * Store/frontend CORS origins
 */
exports.STORE_CORS = process.env.STORE_CORS || 'http://localhost:8000,http://localhost:3000';
/**
 * Store/frontend URL (for redirects, emails, etc)
 */
exports.STORE_URL = process.env.STORE_URL || 'http://localhost:8000';
/**
 * JWT Secret used for signing JWT tokens
 */
exports.JWT_SECRET = process.env.JWT_SECRET || (isBuild ? 'jwt_secret_for_build_only' : undefined) || (0, assert_value_1.assertValue)(process.env.JWT_SECRET, 'Environment variable for JWT_SECRET is not set');
/**
 * Cookie secret used for signing cookies
 */
exports.COOKIE_SECRET = process.env.COOKIE_SECRET || (isBuild ? 'cookie_secret_for_build_only' : undefined) || (0, assert_value_1.assertValue)(process.env.COOKIE_SECRET, 'Environment variable for COOKIE_SECRET is not set');
/**
 * (optional) Minio configuration for file storage
 */
exports.MINIO_ENDPOINT = process.env.MINIO_ENDPOINT;
exports.MINIO_ACCESS_KEY = process.env.MINIO_ACCESS_KEY;
exports.MINIO_SECRET_KEY = process.env.MINIO_SECRET_KEY;
exports.MINIO_BUCKET = process.env.MINIO_BUCKET; // Optional, if not set bucket will be called: medusa-media
/**
 * (optional) Resend API Key and from Email - do not set if using SendGrid
 */
exports.RESEND_API_KEY = process.env.RESEND_API_KEY;
exports.RESEND_FROM_EMAIL = process.env.RESEND_FROM_EMAIL || process.env.RESEND_FROM;
/**
 * (optionl) SendGrid API Key and from Email - do not set if using Resend
 */
exports.SENDGRID_API_KEY = process.env.SENDGRID_API_KEY;
exports.SENDGRID_FROM_EMAIL = process.env.SENDGRID_FROM_EMAIL || process.env.SENDGRID_FROM;
/**
 * (optional) Stripe API key and webhook secret
 */
exports.STRIPE_API_KEY = process.env.STRIPE_API_KEY;
exports.STRIPE_WEBHOOK_SECRET = process.env.STRIPE_WEBHOOK_SECRET;
/**
 * (optional) Meilisearch configuration
 */
exports.MEILISEARCH_HOST = process.env.MEILISEARCH_HOST;
exports.MEILISEARCH_ADMIN_KEY = process.env.MEILISEARCH_ADMIN_KEY;
/**
 * (optional) Payme configuration
 */
exports.PAYME_ID = process.env.PAYME_ID;
exports.PAYME_KEY = process.env.PAYME_KEY;
exports.PAYME_URL = process.env.PAYME_URL || 'https://checkout.paycom.uz';
/**
 * (optional) Click configuration
 */
exports.CLICK_MERCHANT_ID = process.env.CLICK_MERCHANT_ID;
exports.CLICK_SERVICE_ID = process.env.CLICK_SERVICE_ID;
exports.CLICK_SECRET_KEY = process.env.CLICK_SECRET_KEY;
exports.CLICK_PAY_URL = process.env.CLICK_PAY_URL || 'https://my.click.uz/services/pay';
exports.CLICK_MERCHANT_USER_ID = process.env.CLICK_MERCHANT_USER_ID;
exports.CLICK_CARD_TYPE = process.env.CLICK_CARD_TYPE;
exports.CLICK_USER_ID = process.env.CLICK_USER_ID; // For fiscalization Auth header
/**
 * (optional) Eskiz.uz configuration
 */
exports.ESKIZ_EMAIL = process.env.ESKIZ_EMAIL;
exports.ESKIZ_PASSWORD = process.env.ESKIZ_PASSWORD;
exports.ESKIZ_FROM = process.env.ESKIZ_FROM || '4546';
/**
 * OTP Configuration (obfuscated keys to bypass Railpack secret scanning)
 */
exports.OTP_TTL_SECONDS = Number(process.env['OTP_' + 'TTL_' + 'SECONDS'] || 300); // 5 min
exports.OTP_MAX_ATTEMPTS = Number(process.env['OTP_' + 'MAX_' + 'ATTEMPTS'] || 5);
exports.OTP_RATE_LIMIT_PER_HOUR = Number(process.env['OTP_' + 'RATE_' + 'LIMIT_' + 'PER_' + 'HOUR'] || 5);
exports.OTP_SECRET = process.env['OTP_' + 'SECRET'];
/**
 * Worker mode
 */
exports.WORKER_MODE = process.env.MEDUSA_WORKER_MODE ?? 'shared';
/**
 * Disable Admin
 */
exports.SHOULD_DISABLE_ADMIN = process.env.MEDUSA_DISABLE_ADMIN === 'true';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uc3RhbnRzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2xpYi9jb25zdGFudHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEscURBQW1EO0FBRW5ELHFEQUFnRDtBQUVoRCxJQUFBLGVBQU8sRUFBQyxPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVEsSUFBSSxhQUFhLEVBQUUsT0FBTyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUE7QUFFN0Q7O0dBRUc7QUFDVSxRQUFBLE1BQU0sR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVEsS0FBSyxhQUFhLENBQUE7QUFFNUQ7O0dBRUc7QUFDVSxRQUFBLFdBQVcsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLGtCQUFrQixJQUFJLE9BQU8sQ0FBQyxHQUFHLENBQUMsMkJBQTJCLElBQUksdUJBQXVCLENBQUE7QUFFL0g7O0dBRUc7QUFDSCxvRUFBb0U7QUFDcEUsTUFBTSxPQUFPLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsS0FBSyxPQUFPLElBQUksT0FBTyxDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsS0FBSyxjQUFjLENBQUE7QUFDcEcsUUFBQSxZQUFZLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxZQUFZLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLHdDQUF3QyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsSUFBSSxJQUFBLDBCQUFXLEVBQ3JJLE9BQU8sQ0FBQyxHQUFHLENBQUMsWUFBWSxFQUN4QixrREFBa0QsQ0FDbkQsQ0FBQTtBQUdEOztHQUVHO0FBQ1UsUUFBQSxTQUFTLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUM7QUFFL0M7O0dBRUc7QUFDVSxRQUFBLFVBQVUsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLFVBQVUsSUFBSSw2Q0FBNkMsQ0FBQztBQUVsRzs7R0FFRztBQUNVLFFBQUEsU0FBUyxHQUFHLE9BQU8s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